<h1>詳細画面</h1>

<div class="row">
  <div class="col-md-9">
    <% if @picture.picture.attached? %>
      <%= image_tag @picture.picture.variant(resize_to_limit: [800, 800]), class: "img-fluid" %>
    <% else %>
      <%= image_tag '/no_image.jpg', class: "img-fluid" %>
    <% end %>
  </div>

  <div class="col-md-3">
    <p><b>Title: </b><%= @picture.title %></p>
    <p><b>Description: </b><%= @picture.description %></p>
    <p><b>Latitude: </b><%= @latitude %></p>
    <p><b>Longitude: </b><%= @longitude %></p>
    <p><b>Place: </b><%= @place %></p>
    <div id="map" style="width: 100%; height: 300px;"></div>
    <p>
      <%= link_to 'Edit', edit_picture_path(@picture) %> |
      <%= link_to 'Destroy', @picture, data: { confirm: 'Are you sure?' }, method: :delete %> |
      <%= link_to 'Back', root_url %>
    </p>
  </div>
</div>

<script>
    var map = L.map('map').setView([<%= @latitude %>, <%= @longitude %>], 13);
    L.tileLayer('https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}', {
        maxZoom: 18,
        attribution: "<a href='https://developers.google.com/maps/documentation' target='_blank'>Google Map</a>"
    }).addTo(map);
    L.marker([<%= @latitude %>, <%= @longitude %>]).addTo(map);
</script>